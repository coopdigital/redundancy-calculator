!function(){"use strict";window.storeForms=function(e){return this.setStorage(e),this.init()},storeForms.prototype.setStorage=function(e){this.storageType=e?e:"sessionStorage"},storeForms.prototype.init=function(){this.storageAvailable()&&(this.forms=document.querySelector("form"),this.placeholders=document.querySelectorAll("[data-name]"),this.formFields=document.querySelectorAll("form [name]"),this.bindEvents(),this.populatePlaceholders(),this.populateFormFields())},storeForms.prototype.storageAvailable=function(){try{var e="__storage_test__";return this.storage=window[this.storageType],this.storage.setItem(e,e),this.storage.removeItem(e),!0}catch(t){return!1}},storeForms.prototype.bindEvents=function(){this.forms&&this.forms.addEventListener("submit",this.processForm.bind(this))},storeForms.prototype.populatePlaceholders=function(){for(var e=0;e<this.placeholders.length;e++){var t=this.placeholders[e],r=t.getAttribute("data-name"),o=this.getItem(r)||"",s=t.getAttribute("data-show-if"),i=t.getAttribute("data-hide-if");r&&(s?s!==o&&(t.style.display="none"):i?i===o&&(t.style.display="none"):t.innerHTML=o.replace(/\n\r?/g,"<br />"))}},storeForms.prototype.populateFormFields=function(){var e=[];if(this.formFields)for(var t=0;t<this.formFields.length;t++){var r=this.formFields[t],o=r.getAttribute("name"),s=this.getItem(o);if(o&&e.indexOf(o)===-1){switch(r.type){case"radio":case"checkbox":var i=document.querySelector('[name="'+o+'"][value="'+s+'"]');i&&(i.checked=!0);break;default:s&&(r.value=s)}e.push(o)}}},storeForms.prototype.saveItem=function(e,t){this.storage.setItem(e,t)},storeForms.prototype.removeItem=function(e){this.storage.removeItem(e)},storeForms.prototype.getItem=function(e){return this.storage.getItem(e)},storeForms.prototype.processForm=function(e){for(var t=[],r=0;r<e.target.elements.length;r++){var o,s=e.target.elements[r],i=s.getAttribute("name");i&&t.indexOf(i)===-1&&(o=this.getFieldValue(s),o?this.saveItem(i,o):this.removeItem(i),t.push(i))}},storeForms.prototype.getFieldValue=function(e){if(e)switch(e.type){case"radio":var t=e.getAttribute("name"),r=document.querySelector('[name="'+t+'"]:checked');return r?r.getAttribute("value"):"";case"checkbox":return e.checked?e.value:"";default:return e.value}}}();var storeForms=new storeForms;
//# sourceMappingURL=maps/main.js.map
